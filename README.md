# cas-jvm

## java指令
    class解释称机器指令
    javap -v xxx.class | class -> 可读文件
    javac xxx.java     | java  -> class

## 编译器和JIT的区别
    编译器: 这个东西第一代jvm就有了，他可以解释字节码文件，但是效率不高，因为每次执行都会从头开始编译执行代码，消耗资源
    JIT: 这个东西呢就是解决上面编译器的难处，他提供了一个缓存，能够存储编译过后的机器码指令，这样就不用每次执行代码都去编译
         一次，他也只会缓存热点执行代码，避免缓存消耗也是对的。

## 历史
    现在市场常用的几个版本：HotSpot, JrRockit, J9

## JVM判断两个对象是否为一个对象
    1、包名和类型完全一致
    2、类加载器完全一致
    
## 栈帧包含哪些组件
    1、局部变量表
        局部变量表中的变量也是重要的垃圾回收根节点，只要被局部变量表中直接或间接引用的对象都不回被回收
    
    2、操作数栈
                
    3、动态链接
        保存方法的引用信息，在常量池中
    4、方法返回地址
        4.1、方法的调用：普通调用指令 
            1、invokestatic 调用静态方法，解析阶段确定唯一方法版本
            2、invokespecial 调用<init>方法、私有及弗雷方法，解析阶段确定唯一方法版本
            3、invokevirtual 调用所有虚方法
            4、invokeinterface 调用接口方法
        4.2、动态调用指令
            5、invokedynamic 动态解析出需要调用的方法，然后执行
        前四条指令固化虚拟机内部，方法的调用执行不可人为干扰，而invokedynamic指令则支持
        由用户确定方法版本。其中invokestatic指令和invokespecial指令调用的方法称为非虚方法，
        其余的(final修饰的除外)称为虚方法。
        4.3、非虚方法
            -如果方法在编译期就确定了具体的调用版本，这个版本在运行时是不可变的。
             这样的方法称为"非虚方法"
            -静态方法、私有方法、final方法、实例构造器、父类方法都是非 
        4.4、调用者的pc计数器的值作为返回地址，即调用该方法的指令的下一条指令的地址
            * 正常完成出口和异常完成出口的区别在于：通过异常完成出口退出的不会给他的上层调用者产生任何的返回值。
            
    5、一些附加信息
        对程序调试提供的信息
























